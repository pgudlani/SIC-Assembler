. This is a sample program only for the purpose of testing
. It tests almost all features of SIC/XE program 
COPY	START	0
FIRST	STL	RETADR
	LDB	#LENGTH
	BASE	LENGTH
CLOOP	+JSUB	RDREC
	LDA	LENGTH
	COMP	#0
	JEQ	ENDFIL
	+JSUB	WRREC
ABC	LDB	=X'07'
	LDA	=C'DF'
	J	CLOOP
ENDFIL	LDA	EOF
	STA	BUFFER
	LDA	#3
	STA	LENGTH
	+JSUB	WRREC
	J	@RETADR
	LTORG
EOF	BYTE	C'EOF'
RETADR	RESW	1
LENGTH	RESW	1
BUFFER	RESB	4096
BUFEND	EQU	*
MAXLEN	EQU	BUFEND-BUFFER
VALUE	EQU	MAXLEN+200
	.
	. SUBROUTINE TO READ RECORD FROM BUFFER
	.
RDREC	CLEAR	X
	CLEAR	A
	CLEAR	S
	+LDT	#MAXLEN
RLOOP	TD	INPUT
	JEQ	RLOOP
	RD	INPUT
	COMPR	A,S
	LDA	=C'FKF'
	JEQ	EXIT
	STCH	BUFFER,X
	TIXR	T
	JLT	RLOOP
EXIT	STX	LENGTH
	RSUB
INPUT	BYTE	X'F1'
	.
	.	subroutinE TO WRITE RECORDS FROM BUFFER
	.
WRREC	CLEAR	X
	LDT	LENGTH
WLOOP	TD	OUTPUT
	JEQ	WLOOP
	LDCH	BUFFER,X
	WD	OUTPUT
	TIXR	T
	LDA	=C'ADD'
	LDB	=C'ADD'
	JLT	WLOOP
	RSUB
OUTPUT	BYTE	X'05'
	END	FIRST
